
<page
    [isLoading]="loginProcess.inProgress$"
    [notifications$]="notification$"
>
    <section>
        <ng-content select="[login-header]"></ng-content>
    </section>
    <form
        (submit)="$event.preventDefault(); login()"
    >
        <div class="input-group">
            <label>{{ 'username' | translate }}</label>
            <input
                [formControl]="form.controls.username" 
                type="text"
                name="username"    
            >
        </div>
        <div class="input-group">
            <label>{{ 'password' | translate }}</label>
            <input 
                [formControl]="form.controls.password"
                type="password"
                name="password" 
            >
        </div>
        <div class="input-group">
            <button
                type="submit"
            >
                {{ 'login' | translate }}
            </button>
        </div>
    </form>
    <section
        *ngIf="loginService.registerLink$ | async as registerLink"
    >
        <div>
            <p>
                {{ 'registerInstead' | translate }}
            </p>
        </div>
        <div>
            <a 
                [routerLink]="registerLink"
                data-test="register-link"
            >
                {{ 'registerLink' | translate }}
            </a>
        </div>
    </section>
</page>